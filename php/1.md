# 1 php

### 基础

+ 标记
    + 有多种标记,推荐的标记依然是XML风格`<?php ?>`
+ 空格
    + 换行(回车),空格和Tab(制表符)都被认为是空格
+ 注释
    + php支持C,C++和SHELL脚本风格的注释
    + `/* here is comment */`
    + `// here is comment`
    + `# here is comment`
+ 访问表单变量
    + 有多重方法获取表单数据,其中**中等风格**是如今推荐的.
    + `$_POST['name']`
+ 字符串的连接
    * 用`.`
    * `echo $name.' is good!'`
+ 变量字符串
    * 用双引号和单引号括起来的字符串php解析器的处理会不同
    * 用双引号括起来的字符串php解析器会尝试解析其中的变量
    * 用单引号括起来的字符串会被当做真正的文本
    * 可以用heredoc语法指定字符串`php echo <<<HTML line 1 line 2 HTML`
+ 标识符
    * 长度不限,不能以数字开头,区分大小写
    * 不要求在使用变量之前声明变量,第一次给一个变量赋值时,你才创建了这个变量
+ php支持的数据类型
    * Integer(整数)
    * Float(浮点数,也叫Double双精度) 用来表示所有的实数
    * String(字符串)
    * Boolean(布尔值)
    * Array(数组) 用来保存具有相同类型的多个数据项
    * Object(对象) 用来保存类的实例
    * 特殊类型
        - NULL(空)
        - resource(资源) 代表外部的资源
+ 类型强度
    * 动态弱类型语言,php将会**自动的**获取输入的数据类型
+ 类型转换
    * 使用类型转换,可以将一个变量或值转换为另一种类型
    * `$total=0; $totalAmount=(float)$total;`
+ 可变变量
    * 可变变量允许我们动态的改变一个变量的名称
    * 特性的工作原理是用一个变量的值作为另一个变量的名称
    ```
    $varname=`twice`;
    $$varname=5;
    echo $twice; // 5
    ```

+ 声明和使用常量
    * 一个常量可以保存一个值,但是值一旦被设定后,在脚本的其他地方就无法改变
    * 变量跟常量的另一个差异在于常量只可以保存布尔值,整数,浮点数或字符串数据,这些类型都是标量数据.
+ 理解变量的作用域
    * 作用域是指在一个脚本中某个变量可以使用或可见的范围
    * PHP有6项基本的作用域规则
        - 内置超级全局变量可以在脚本中任何地方使用和可见
        - 常量,一旦被声明,将可以在全局可见,也就是说在函数内外可以使用
        - 在一个脚本中声明的全局变量在整个脚本中时可见的,但不是在函数内部
        - 函数内部使用的变量声明为全局变量时,其名称要与全局变量名称一致
        - 在函数内部创建并声明为静态的变量无法在函数外部可见,但是在函数的多次执行中保持该值
        -  在函数内部创建的变量对函数来说是本地的,而当函数终止时,该变量也就不存在了.
    * 超级全局变量列表:
        - $GLOBALS,所有全局变量数组,以`$GLOBALS['varname']`来访问
        - $_SERVER,服务器环境变量数组
        - $_GET,通过GET方法传递给该脚本的变量数组
        - $_POST,通过POST方法传递给该脚本的变量数组
        - $_COOKIE,cookie变量数组
        - $_FILES,与文件长传相关的数组
        - $_ENV,环境变量数组
        - $_REQUEST,所有用户输入的变量数组,包括$_GET,$_POST和$_COOKIE所包含的输入内容
        - $_SESSION,会话变量数组
+ 使用操作符
    * 算数操作符
        - 算数操作符通常用于整型或双精度的数据,如果应用与字符串,PHP会尝试将这些字符串转换为一个数字,PHP在字符串开始处寻找数字,如果没有找到则值为0
        - 包含的操作符有:`+ - * / %`
    * 字符串操作符
        - 唯一一个字符串操作符`.`,用来连接字符串
    * 赋值操作符
        - `=`
        - 使用赋值操作符返回的值为整个表达式的值
        - 规则:整个赋值语句的值将赋给左边的操作数
        - 复合赋值操作符,例如`$a+=2;`,就相当于`$a=a+2;`
        - 前置递增递减和后置递增递减运算符
        ```
        // 首先输出$a的值,然后$a的值增加1
        $a=2;
        echo $a++;

        // 首先$b的值增加1,然后输出$b的值,结果为3
        $b=2;
        echo ++$b;
        // 递减的类似递增
        ```
        - 引用操作符`&`,引用就像一个别名,而不是一个指针.
        ```
        $a=5;
        $b=&$a;
        $a=7;
        echo $b;// 7
        ```
    * 比较操作符
        - 比较操作符用来比较两个值,返回布尔值true后者false
        - 等于操作符`===`
        - 其他比较操作符
            + `==` 等于
            + `===` 恒等
            + `!=` 不等
            + `!==` 不恒等
            + `<>` 不等
            + `<` 小于
            + `>` 大于
            + `<=` 小于等于
            + `>=` 大于等于
    * 逻辑操作符
        - 逻辑操作符用来组合逻辑条件的结果
        - PHP支持与(AND),或(OR),异或(XOR)和非(NOT)的运算
        ```
        !    非     !$b
        &&    与    $a && $b 
        ||    或    $a || $b

        and    与    $a and $b
        or    或    $a or $b
        xor    异或    $a xor $b    相同则为0,不同则为1

        // and和or 比 &&和|| 的优先级低
        ```
    * 位操作符
        - 位操作符可以将一个整型变量当做一系列的为(bit,特)来处理
        - 在PHP中用的不多
        ```
        $    按位与    $a & $b    将$a和$b的每一位进行与操作所得结果
        !    按位或    $a ! $b    将$a和$b的每一位进行或操作所得结果
        ~    按位非    ~$a    将$a的每一位进行非操作所得结果
        ^    按位异或    $a ^ $b    将$a和$b的每一位进行异或操作所得结果
        <<    左位移    $a << $b    将$a左移$b位
        >>    右位移    $a >> $b    将$a右移$b位
        ```
    * 其他操作符
        - 逗号操作符`,`用来分隔函数参数或者其他列表项的
        - 两个特殊的操作符
            + `new` 初始化类的实例
            + `->`  访问类的成员
        - 三元操作符`?`,`condition ? value if true : value if false`
        - 错误抑制操作符`@`,有些情况下,比如`$a=@(44/0);`,如果没有用`@`,代码将会产生一个除0警告
        - 执行操作符
            + 执行操作符实际上是一对操作符,它是一对方向单引号````
            + PHP试着将反向引号之间的命令当做服务器端的命令来执行
            ```
            // UNIX操作系统中,可以用如下列出目录列表
            $out = `ls -la`;
            echo $out;
            // Window服务器上,列出c盘根目录目录
            $out = `dir c:`;
            echo $out;
            ```
        - 数组操作符
            + 数组元素操作符`[]`允许访问数组元素,也可以用`=>`来访问
            + 其他数组操作符
            ```
            +  联合 $a + $b  返回一个包含了$a和$b中所有元素的数组
            ==  等价  $a == $b  如果$a和$b具有相同的键值对,返回true
            ===  恒等  $a === $b  如果$a和$b具有相同的键值对并且顺序相同,返回ture
            !=  非等价  $a != $b 如果$a和$b不是等价的,返回true
            <>  非等价  $a <> $b 如果$a和$b不是等价的,返回true
            !==  非恒等  $a !== $b 如果$a和$b不是恒等的,返回true
            ```
        - 类型操作符
            + 只有一个类型操作符: `instanceof`    
            + 这个操作在面向对象变成中使用
            ```php
            class P {};
            $p= new P();
            if($p instanceof P){
                echo 'p object is an instanceof P';
            }
            ```

